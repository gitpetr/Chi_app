%div.span4
  / There is situation when nil object can be send to this particle. We should just to ignore it.
  - unless photo.nil?
    - if can? [:edit, :destroy], Photo
      / To align it right we first of all should make box of chosen size where we will align.
      %div.photo-item
        %div.photo-edit-button
          %div.btn-group
            = link_to "#", :class => "btn dropdown-toggle", "data-toggle" => "dropdown" do
              %i{ :class => "icon-wrench icon-white" }
              = "Change"
              %span.caret
            %ul.dropdown-menu
              %li= link_to "Edit", edit_photo_path( photo )
              %li.divider
              %li= link_to "Delete", "#", {:remote => true, 'data-toggle' => 'modal', 'data-target' => "#modal-window", 'data-backdrop' => true, 'data-keyboard' => true}
    %p
      = image_tag photo.image_url(:thumb), :class => "photo"

    / Modal window to delete article.
    %div{ :class => "modal hide fade", :id => "modal-window" }
      %div.modal-header
        %button{ :type => "button", :class => "close", "data-dismiss" => "modal", "aria-hidden" => "true"} Ã—
        %h3
          = "Title"
      %div.modal-body
        %h6
          %p= "Are you sure you want to delete this picture?"
      %div.modal-footer
        = link_to "Delete", photo, :method => :delete, :class => "btn btn-danger", :id => "destroy_link"
        = link_to "Close", "#", :class => "btn", "data-dismiss" => "modal"
